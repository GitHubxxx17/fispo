<!DOCTYPE html>
<html>
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="专为构建现代化博客而设计的静态站点生成器">
    <title data-rh="true">插件 | Fispo</title>
    
    
    
    <link rel="icon" href="/fispo/logo.png" type="image/png">
    <link rel="stylesheet" href="/fispo/assets/vendor-highlight-BInFDDgR.css">
<link rel="stylesheet" href="/fispo/assets/client-entry-C-9KlCR2.css">

      <script type="importmap">
      {
        "imports": {
          "react": "/fispo/react.js","react-dom": "/fispo/react-dom.js","react-dom/client": "/fispo/react-dom_client.js","react/jsx-runtime": "/fispo/react_jsx-runtime.js"
        } 
      }  
    </script>

    
  </head>
  <body>
  
    <div id="root"><div class="_layout_luyrs_1"><nav class="_nav_159t4_1 _nav-top_159t4_130"><div class="_nav-left_159t4_46"><div class="_blog-name_159t4_16"><a href="/fispo/"><span class="_img-wapper_ihuga_1" style="width:28px;margin-right:10px"><img src="/fispo/logo.png" alt="" class=""/></span>Fispo</a></div><div class="_menus_159t4_33"><ul><ul><li><a class="_active_159t4_126" href="/fispo/guide"><span>指南</span></a></li><li><a class="" href="/fispo/config"><span>配置项</span></a></li><li><a class="" href="/fispo/theme"><span>主题</span></a></li><li><a class="" href="/fispo/plugin"><span>插件</span></a></li></ul></ul></div></div><div class="_nav-right_159t4_50"><div class="_nav-right-tools_159t4_53"><div class="_nav-tools-item_159t4_70"><span title="切换黑白主题"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path></svg></span></div><div class="_nav-tools-item_159t4_70"><span title="github"><a href="https://github.com/GitHubxxx17/fispo" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></span></div></div><div class="_nav-right-menus_159t4_56"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"></path></svg></div></div></nav><div class="_nav-menus_159t4_86"><ul><li><a class="_active_159t4_126" href="/fispo/guide"><span>指南</span></a></li><li><a class="" href="/fispo/config"><span>配置项</span></a></li><li><a class="" href="/fispo/theme"><span>主题</span></a></li><li><a class="" href="/fispo/plugin"><span>插件</span></a></li></ul><div class="_nav-menus-tools_159t4_119"><div class="_nav-tools-item_159t4_70"><span title="切换黑白主题"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path></svg></span></div><div class="_nav-tools-item_159t4_70"><span title="github"><a href="https://github.com/GitHubxxx17/fispo" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></span></div></div></div><div class="_docLayout_1gxcm_1"><aside class="_sidebar_w0fjt_1"><nav><section class="_sidebarGroup_w0fjt_10"><div class="_sidebarTitle_w0fjt_14"><h2>简介</h2></div><div class="_sidebarContent_w0fjt_17"><div class="_sidebarItem_w0fjt_20"><a href="/fispo/guide">什么是Fispo</a></div><div class="_sidebarItem_w0fjt_20"><a href="/fispo/guide/introduction/setup">建站</a></div></div></section><section class="_sidebarGroup_w0fjt_10"><div class="_sidebarTitle_w0fjt_14"><h2>写作</h2></div><div class="_sidebarContent_w0fjt_17"><div class="_sidebarItem_w0fjt_20"><a href="/fispo/guide/writing/markdown">markdown 扩展</a></div><div class="_sidebarItem_w0fjt_20"><a href="/fispo/guide/writing/frontmatter">frontmatter</a></div><div class="_sidebarItem_w0fjt_20"><a href="/fispo/guide/writing/source">资源处理</a></div></div></section><section class="_sidebarGroup_w0fjt_10"><div class="_sidebarTitle_w0fjt_14"><h2>部署</h2></div><div class="_sidebarContent_w0fjt_17"><div class="_sidebarItem_w0fjt_20"><a href="/fispo/guide/deploy/githubPages">GitHub Pages</a></div></div></section><section class="_sidebarGroup_w0fjt_10"><div class="_sidebarTitle_w0fjt_14"><h2>自定义</h2></div><div class="_sidebarContent_w0fjt_17"><div class="_sidebarItem_w0fjt_20"><a href="/fispo/guide/customize/theme">主题</a></div><div class="_sidebarItem_w0fjt_20 _active_w0fjt_24"><a href="/fispo/guide/customize/plugin">插件</a></div></div></section></nav></aside><div class="_content_1gxcm_7"><h1 id="插件"><a class="header-anchor" href="#插件"><span class="icon icon-link"></span></a>插件</h1>
<div class="note info icon-plug modern"><span class="note-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plug" class="svg-inline--fa fa-plug " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M96 0C78.3 0 64 14.3 64 32l0 96 64 0 0-96c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32l0 96 64 0 0-96c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l0 32c0 77.4 55 142 128 156.8l0 67.2c0 17.7 14.3 32 32 32s32-14.3 32-32l0-67.2C297 398 352 333.4 352 256l0-32c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160z"></path></svg></span>
<p>如果您想要自己开发插件，可通过 Fispo 的初始化工具创建插件项目的模板</p>
</div>
<h2 id="初始化项目"><a class="header-anchor" href="#初始化项目"><span class="icon icon-link"></span></a>初始化项目</h2>
<div class="hljs theme-github language-bash"><div class="highlight-tools"><span class="lang">bash</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-bash">create-fispo &lt;项目目录名&gt; --plugin
</code></pre></div>
<h2 id="文件结构"><a class="header-anchor" href="#文件结构"><span class="icon icon-link"></span></a>文件结构</h2>
<p>初始化后，您的项目文件夹将如下所示：</p>
<div class="hljs theme-github language-md"><div class="highlight-tools"><span class="lang">md</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-md">.
├── fispo.config.ts          # 项目的配置文件
├── package-lock.json        # 锁定依赖包版本的文件
├── package.json             # 项目的元数据和依赖信息文件
├── tsconfig.json            # TypeScript 编译配置文件
├── tsup.config.ts           # tsup 打包工具的配置文件
├── docs                     # 存放博客相关内容
│   ├── post                 # 文章目录（Markdown 文件）
│   │   └── helloworld.md    # 示例文章
│   └── public               # 存放公共资源文件的目录
│       ├── 404.png          # 404 页面显示的图片
│       ├── avatar.jpg       # 用户头像图片
│       ├── banner.png       # 横幅图片
│       ├── bg.png           # 背景图片
│       ├── logo.png         # 项目 logo 图片
│       └── cover            # 封面图片文件夹
│           └── a.jpg        # 封面示例图片
└── src                      # 源代码目录
<span class="hljs-code">    ├── index.ts             # 项目入口文件
    └── types                # 类型定义目录
        └── types.d.ts       # 类型定义文件
</span></code></pre></div>
<h2 id="开发插件"><a class="header-anchor" href="#开发插件"><span class="icon icon-link"></span></a>开发插件</h2>
<div class="note success icon-cog flat"><span class="note-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="gear" class="svg-inline--fa fa-gear " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"></path></svg></span>
<p>完成初始化后可以使用<code>npx fispo dev</code>命令启动项目</p>
</div>
<h2 id="fispoplugin-接口详解"><a class="header-anchor" href="#fispoplugin-接口详解"><span class="icon icon-link"></span></a>FispoPlugin 接口详解</h2>
<div class="note primary icon-cogs modern"><span class="note-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="gears" class="svg-inline--fa fa-gears " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8l-.7 0c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"></path></svg></span>
<p>Fispo 插件系统提供了丰富的配置选项和生命周期钩子，让您可以深度定制站点行为。</p>
</div>
<h3 id="基础配置"><a class="header-anchor" href="#基础配置"><span class="icon icon-link"></span></a>基础配置</h3>
<div class="tip info icon-cog"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="gear" class="svg-inline--fa fa-gear " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"></path></svg></span>
<p>配置插件的基本属性，如名称、路径别名、全局常量和 Vite 构建设置。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FispoPlugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;fispo-core/plugin&#x27;</span>
<span class="hljs-keyword">import</span> { vitePlugin <span class="hljs-keyword">as</span> <span class="hljs-title class_">Plugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vite&#x27;</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">myPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;my-custom-plugin&#x27;</span>,

  <span class="hljs-comment">// 路径别名配置</span>
  <span class="hljs-attr">alias</span>: {
    <span class="hljs-string">&#x27;@&#x27;</span>: <span class="hljs-string">&#x27;/src&#x27;</span>,
    <span class="hljs-string">&#x27;@components&#x27;</span>: <span class="hljs-string">&#x27;/src/components&#x27;</span>,
    <span class="hljs-string">&#x27;@utils&#x27;</span>: <span class="hljs-string">&#x27;/src/utils&#x27;</span>
  },

  <span class="hljs-comment">// 全局常量定义</span>
  <span class="hljs-attr">define</span>: {
    <span class="hljs-string">&#x27;process.env.NODE_ENV&#x27;</span>: <span class="hljs-string">&#x27;&quot;development&quot;&#x27;</span>,
    <span class="hljs-string">&#x27;APP_VERSION&#x27;</span>: <span class="hljs-string">&#x27;&quot;1.0.0&quot;&#x27;</span>,
    <span class="hljs-string">&#x27;__VUE_OPTIONS_API__&#x27;</span>: <span class="hljs-string">&#x27;true&#x27;</span>
  },

  <span class="hljs-comment">// Vite 配置</span>
  <span class="hljs-attr">vite</span>: {
    <span class="hljs-attr">build</span>: {
      <span class="hljs-attr">rollupOptions</span>: {
        <span class="hljs-attr">output</span>: {
          <span class="hljs-attr">manualChunks</span>: {
            <span class="hljs-attr">vendor</span>: [<span class="hljs-string">&#x27;react&#x27;</span>, <span class="hljs-string">&#x27;react-dom&#x27;</span>]
          }
        }
      }
    },
    <span class="hljs-attr">css</span>: {
      <span class="hljs-attr">preprocessorOptions</span>: {
        <span class="hljs-attr">scss</span>: {
          <span class="hljs-attr">additionalData</span>: <span class="hljs-string">&#x27;@import &quot;@/styles/variables.scss&quot;;&#x27;</span>
        }
      }
    }
  }
}
</code></pre></div>
<h3 id="markdown-处理"><a class="header-anchor" href="#markdown-处理"><span class="icon icon-link"></span></a>Markdown 处理</h3>
<div class="tip success icon-file-alt"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="file-lines" class="svg-inline--fa fa-file-lines " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM112 256l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg></span>
<p>通过配置 remark 和 rehype 插件来扩展 Markdown 的处理能力。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> remarkGfm <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;remark-gfm&#x27;</span>
<span class="hljs-keyword">import</span> remarkPrism <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;remark-prism&#x27;</span>
<span class="hljs-keyword">import</span> rehypeAutolinkHeadings <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rehype-autolink-headings&#x27;</span>
<span class="hljs-keyword">import</span> rehypeSlug <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rehype-slug&#x27;</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">markdownPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;markdown-enhancement&#x27;</span>,

  <span class="hljs-attr">markdown</span>: {
    <span class="hljs-comment">// remark 插件 - 处理 Markdown 语法</span>
    <span class="hljs-attr">remarkPlugins</span>: [
      remarkGfm, <span class="hljs-comment">// GitHub 风格的 Markdown</span>
      [remarkPrism, { <span class="hljs-attr">ignoreMissing</span>: <span class="hljs-literal">true</span> }] <span class="hljs-comment">// 代码高亮</span>
    ],

    <span class="hljs-comment">// rehype 插件 - 处理 HTML 输出</span>
    <span class="hljs-attr">rehypePlugins</span>: [
      rehypeSlug, <span class="hljs-comment">// 为标题生成 slug</span>
      [rehypeAutolinkHeadings, { <span class="hljs-attr">behavior</span>: <span class="hljs-string">&#x27;wrap&#x27;</span> }] <span class="hljs-comment">// 自动链接标题</span>
    ]
  }
}
</code></pre></div>
<h3 id="文件监听"><a class="header-anchor" href="#文件监听"><span class="icon icon-link"></span></a>文件监听</h3>
<div class="tip warning icon-sync"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrows-rotate" class="svg-inline--fa fa-arrows-rotate " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"></path></svg></span>
<p>配置需要监听的文件，以便在文件变化时触发重新构建。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">fileWatcherPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;file-watcher&#x27;</span>,

  <span class="hljs-attr">watchFiles</span>: [
    <span class="hljs-string">&#x27;src/config.ts&#x27;</span>,
    <span class="hljs-string">&#x27;src/styles/variables.css&#x27;</span>,
    <span class="hljs-string">&#x27;custom-scripts/*.js&#x27;</span>
  ]
}
</code></pre></div>
<h3 id="生命周期钩子"><a class="header-anchor" href="#生命周期钩子"><span class="icon icon-link"></span></a>生命周期钩子</h3>
<div class="note primary icon-hourglass-half flat"><span class="note-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="hourglass-half" class="svg-inline--fa fa-hourglass-half " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M32 0C14.3 0 0 14.3 0 32S14.3 64 32 64l0 11c0 42.4 16.9 83.1 46.9 113.1L146.7 256 78.9 323.9C48.9 353.9 32 394.6 32 437l0 11c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 256 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-11c0-42.4-16.9-83.1-46.9-113.1L237.3 256l67.9-67.9c30-30 46.9-70.7 46.9-113.1l0-11c17.7 0 32-14.3 32-32s-14.3-32-32-32L320 0 64 0 32 0zM96 75l0-11 192 0 0 11c0 19-5.6 37.4-16 53L112 128c-10.3-15.6-16-34-16-53zm16 309c3.5-5.3 7.6-10.3 12.1-14.9L192 301.3l67.9 67.9c4.6 4.6 8.6 9.6 12.1 14.9L112 384z"></path></svg></span>
<p>生命周期钩子提供了在插件运行不同阶段执行自定义逻辑的能力。</p>
</div>
<h4 id="configbeforeresolved"><a class="header-anchor" href="#configbeforeresolved"><span class="icon icon-link"></span></a>configBeforeResolved</h4>
<div class="tip info icon-play-circle"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-play" class="svg-inline--fa fa-circle-play " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9l0 176c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"></path></svg></span>
<p>在配置解析之前执行，适合进行预处理操作。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">configPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;config-preprocessor&#x27;</span>,

  <span class="hljs-attr">configBeforeResolved</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;配置解析前的预处理...&#x27;</span>)
    <span class="hljs-comment">// 可以在这里进行一些环境检查或配置初始化</span>
  }
}
</code></pre></div>
<h4 id="configresolved"><a class="header-anchor" href="#configresolved"><span class="icon icon-link"></span></a>configResolved</h4>
<div class="tip success icon-check-circle"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-check" class="svg-inline--fa fa-circle-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"></path></svg></span>
<p>在配置解析完成后执行，可以访问完整的配置上下文。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">configResolvedPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;config-processor&#x27;</span>,

  <span class="hljs-attr">configResolved</span>: <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;配置解析完成:&#x27;</span>, config)
    <span class="hljs-comment">// 可以在这里修改或扩展配置</span>
    <span class="hljs-comment">// 添加自定义的全局数据</span>
    config.<span class="hljs-property">siteData</span>.<span class="hljs-property">customSettings</span> = {
      <span class="hljs-attr">enableAnalytics</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">debugMode</span>: <span class="hljs-literal">false</span>
    }
  }
}
</code></pre></div>
<h4 id="beforerenderpage"><a class="header-anchor" href="#beforerenderpage"><span class="icon icon-link"></span></a>beforeRenderpage</h4>
<div class="tip warning icon-pencil-alt"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pencil" class="svg-inline--fa fa-pencil " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"></path></svg></span>
<p>在页面渲染之前执行，可以修改页面数据。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">preRenderPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;pre-render-processor&#x27;</span>,

  <span class="hljs-attr">beforeRenderpage</span>: <span class="hljs-function">(<span class="hljs-params">pageData</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;页面渲染前处理:&#x27;</span>, pageData.<span class="hljs-property">pagePath</span>)

    <span class="hljs-comment">// 添加自定义数据</span>
    pageData.<span class="hljs-property">customData</span> = {
      <span class="hljs-attr">generatedAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
      <span class="hljs-attr">version</span>: <span class="hljs-string">&#x27;1.0.0&#x27;</span>
    }

    <span class="hljs-comment">// 修改标题</span>
    <span class="hljs-keyword">if</span> (pageData.<span class="hljs-property">frontmatter</span>?.<span class="hljs-property">title</span>) {
      pageData.<span class="hljs-property">title</span> = <span class="hljs-string">`[自定义] <span class="hljs-subst">${pageData.frontmatter.title}</span>`</span>
    }

    <span class="hljs-comment">// 预处理文章列表</span>
    <span class="hljs-keyword">if</span> (pageData.<span class="hljs-property">articlesList</span>) {
      pageData.<span class="hljs-property">articlesList</span> = pageData.<span class="hljs-property">articlesList</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">article</span> =&gt;</span> ({
        ...article,
        <span class="hljs-attr">readTime</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(article.<span class="hljs-property">content</span>.<span class="hljs-property">length</span> / <span class="hljs-number">500</span>) <span class="hljs-comment">// 估算阅读时间</span>
      }))
    }
  }
}
</code></pre></div>
<h4 id="afterrenderpage"><a class="header-anchor" href="#afterrenderpage"><span class="icon icon-link"></span></a>afterRenderPage</h4>
<div class="tip info icon-flag"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="flag" class="svg-inline--fa fa-flag " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32L0 64 0 368 0 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128 64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30l0-247.7c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48l0-16z"></path></svg></span>
<p>在页面渲染完成后执行，适合进行后处理操作。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">postRenderPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;post-render-processor&#x27;</span>,

  <span class="hljs-attr">afterRenderPage</span>: <span class="hljs-function">(<span class="hljs-params">pageData</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;页面渲染完成:&#x27;</span>, pageData.<span class="hljs-property">pagePath</span>)

    <span class="hljs-comment">// 可以在这里进行数据统计、日志记录等</span>
    <span class="hljs-title function_">logPageView</span>(pageData.<span class="hljs-property">pagePath</span>)

    <span class="hljs-comment">// 或者触发一些副作用</span>
    <span class="hljs-keyword">if</span> (pageData.<span class="hljs-property">pageType</span> === <span class="hljs-string">&#x27;article&#x27;</span>) {
      <span class="hljs-title function_">updateReadingHistory</span>(pageData.<span class="hljs-property">title</span>)
    }
  }
}
</code></pre></div>
<h4 id="pageclosed"><a class="header-anchor" href="#pageclosed"><span class="icon icon-link"></span></a>pageClosed</h4>
<div class="tip error icon-power-off"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="power-off" class="svg-inline--fa fa-power-off " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 224c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224zM143.5 120.6c13.6-11.3 15.4-31.5 4.1-45.1s-31.5-15.4-45.1-4.1C49.7 115.4 16 181.8 16 256c0 132.5 107.5 240 240 240s240-107.5 240-240c0-74.2-33.8-140.6-86.6-184.6c-13.6-11.3-33.8-9.4-45.1 4.1s-9.4 33.8 4.1 45.1c38.9 32.3 63.5 81 63.5 135.4c0 97.2-78.8 176-176 176s-176-78.8-176-176c0-54.4 24.7-103.1 63.5-135.4z"></path></svg></span>
<p>在页面关闭时执行，适合进行清理操作。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">cleanupPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;cleanup-handler&#x27;</span>,

  <span class="hljs-attr">pageClosed</span>: <span class="hljs-function">(<span class="hljs-params">pageData</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;页面关闭:&#x27;</span>, pageData.<span class="hljs-property">pagePath</span>)

    <span class="hljs-comment">// 清理资源</span>
    <span class="hljs-title function_">cleanupResources</span>(pageData.<span class="hljs-property">pagePath</span>)

    <span class="hljs-comment">// 保存用户数据</span>
    <span class="hljs-title function_">saveUnsavedChanges</span>(pageData)

    <span class="hljs-comment">// 发送统计数据</span>
    <span class="hljs-title function_">sendAnalyticsData</span>(pageData)
  }
}
</code></pre></div>
<h3 id="预加载动画"><a class="header-anchor" href="#预加载动画"><span class="icon icon-link"></span></a>预加载动画</h3>
<div class="tip success icon-spinner"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="spinner" class="svg-inline--fa fa-spinner " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"></path></svg></span>
<p>自定义页面预加载动画，提升用户体验。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">preloaderPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;custom-preloader&#x27;</span>,

  <span class="hljs-attr">preloader</span>: <span class="hljs-string">&#x27;/src/components/CustomPreloader.tsx&#x27;</span>
}
</code></pre></div>
<p><code>CustomPreloader.tsx</code> 示例：</p>
<div class="hljs theme-github language-tsx"><div class="highlight-tools"><span class="lang">tsx</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-tsx"><span class="hljs-comment">// src/components/CustomPreloader.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">CustomPreloader</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [progress, setProgress] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setProgress</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (prev &gt;= <span class="hljs-number">100</span>) {
          <span class="hljs-built_in">clearInterval</span>(timer)
          <span class="hljs-keyword">return</span> <span class="hljs-number">100</span>
        }
        <span class="hljs-keyword">return</span> prev + <span class="hljs-number">10</span>
      })
    }, <span class="hljs-number">100</span>)

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer)
  }, [])

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;custom-preloader&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;preloader-spinner&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;spinner-icon&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;preloader-progress&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;progress-bar&quot;</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">width:</span> `${<span class="hljs-attr">progress</span>}%` }}
        &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;preloader-text&quot;</span>&gt;</span>加载中... {progress}%<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre></div>
<h3 id="全局组件"><a class="header-anchor" href="#全局组件"><span class="icon icon-link"></span></a>全局组件</h3>
<div class="tip primary icon-th-large"><span class="tip-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="table-cells-large" class="svg-inline--fa fa-table-cells-large " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M448 96l0 128-160 0 0-128 160 0zm0 192l0 128-160 0 0-128 160 0zM224 224L64 224 64 96l160 0 0 128zM64 288l160 0 0 128L64 416l0-128zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"></path></svg></span>
<p>在页面上挂载全局组件，实现全局功能。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">globalComponentsPlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;global-components&#x27;</span>,

  <span class="hljs-attr">globalComponents</span>: {
    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/src/components/GlobalComponents.tsx&#x27;</span>,
    <span class="hljs-attr">props</span>: {
      <span class="hljs-attr">theme</span>: <span class="hljs-string">&#x27;default&#x27;</span>,
      <span class="hljs-attr">showNotifications</span>: <span class="hljs-literal">true</span>
    }
  }
}
</code></pre></div>
<p><code>GlobalComponents.tsx</code> 示例：</p>
<div class="hljs theme-github language-tsx"><div class="highlight-tools"><span class="lang">tsx</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-tsx"><span class="hljs-comment">// src/components/GlobalComponents.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>
<span class="hljs-keyword">import</span> { usePageData } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@runtime/hooks&#x27;</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">GlobalComponentsProps</span> {
  <span class="hljs-attr">theme</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">showNotifications</span>: <span class="hljs-built_in">boolean</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">GlobalComponents</span>(<span class="hljs-params">{ theme, showNotifications }: <span class="hljs-title class_">GlobalComponentsProps</span></span>) {
  <span class="hljs-keyword">const</span> { pageData } = <span class="hljs-title function_">usePageData</span>()

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      {/* 全局通知组件 */}
      {showNotifications &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;global-notification&quot;</span>&gt;</span>
          欢迎访问 {pageData.siteData.title}!
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      )}

      {/* 全局主题样式 */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">theme-</span>${<span class="hljs-attr">theme</span>}`}&gt;</span>
        {/* 全局背景效果 */}
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;global-background&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        {/* 全局返回顶部按钮 */}
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;back-to-top&quot;</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> window.scrollTo({ top: 0, behavior: &#x27;smooth&#x27; })}
        &gt;
          ↑
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre></div>
<h3 id="完整插件示例"><a class="header-anchor" href="#完整插件示例"><span class="icon icon-link"></span></a>完整插件示例</h3>
<div class="note warning icon-star flat"><span class="note-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" class="svg-inline--fa fa-star " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"></path></svg></span>
<p>综合运用所有功能的高级插件示例。</p>
</div>
<div class="hljs theme-github language-ts"><div class="highlight-tools"><span class="lang">ts</span><span class="_copy-button_3s73u_1" id="copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:inline-block"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" class="svg-inline--fa fa-check " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="display:none"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg></span></div><pre><code class="hljs language-ts"><span class="hljs-comment">// src/index.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FispoPlugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;fispo-core/plugin&#x27;</span>
<span class="hljs-keyword">import</span> remarkGfm <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;remark-gfm&#x27;</span>
<span class="hljs-keyword">import</span> rehypeSlug <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rehype-slug&#x27;</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">comprehensivePlugin</span>: <span class="hljs-title class_">FispoPlugin</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;comprehensive-plugin&#x27;</span>,

  <span class="hljs-comment">// 基础配置</span>
  <span class="hljs-attr">alias</span>: {
    <span class="hljs-string">&#x27;@&#x27;</span>: <span class="hljs-string">&#x27;/src&#x27;</span>,
    <span class="hljs-string">&#x27;@lib&#x27;</span>: <span class="hljs-string">&#x27;/src/lib&#x27;</span>
  },

  <span class="hljs-attr">define</span>: {
    <span class="hljs-string">&#x27;APP_VERSION&#x27;</span>: <span class="hljs-string">&#x27;&quot;2.0.0&quot;&#x27;</span>
  },

  <span class="hljs-comment">// Markdown 增强</span>
  <span class="hljs-attr">markdown</span>: {
    <span class="hljs-attr">remarkPlugins</span>: [remarkGfm],
    <span class="hljs-attr">rehypePlugins</span>: [rehypeSlug]
  },

  <span class="hljs-comment">// Vite 配置</span>
  <span class="hljs-attr">vite</span>: {
    <span class="hljs-attr">css</span>: {
      <span class="hljs-attr">preprocessorOptions</span>: {
        <span class="hljs-attr">scss</span>: {
          <span class="hljs-attr">additionalData</span>: <span class="hljs-string">&#x27;@import &quot;@/styles/variables.scss&quot;;&#x27;</span>
        }
      }
    }
  },

  <span class="hljs-comment">// 文件监听</span>
  <span class="hljs-attr">watchFiles</span>: [<span class="hljs-string">&#x27;src/config/*.ts&#x27;</span>],

  <span class="hljs-comment">// 预加载动画</span>
  <span class="hljs-attr">preloader</span>: <span class="hljs-string">&#x27;/src/components/CustomPreloader.tsx&#x27;</span>,

  <span class="hljs-comment">// 全局组件</span>
  <span class="hljs-attr">globalComponents</span>: {
    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/src/components/GlobalComponents.tsx&#x27;</span>,
    <span class="hljs-attr">props</span>: {
      <span class="hljs-attr">theme</span>: <span class="hljs-string">&#x27;modern&#x27;</span>,
      <span class="hljs-attr">showNotifications</span>: <span class="hljs-literal">true</span>
    }
  },

  <span class="hljs-comment">// 生命周期钩子</span>
  <span class="hljs-attr">configBeforeResolved</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;开始配置处理...&#x27;</span>)
  },

  <span class="hljs-attr">configResolved</span>: <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
    config.<span class="hljs-property">siteData</span>.<span class="hljs-property">customSettings</span> = {
      <span class="hljs-attr">featureFlags</span>: {
        <span class="hljs-attr">newDesign</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">experimental</span>: <span class="hljs-literal">false</span>
      }
    }
  },

  <span class="hljs-attr">beforeRenderpage</span>: <span class="hljs-function">(<span class="hljs-params">pageData</span>) =&gt;</span> {
    <span class="hljs-comment">// 添加 SEO 相关数据</span>
    pageData.<span class="hljs-property">seoData</span> = <span class="hljs-title function_">generateSEOData</span>(pageData)
  },

  <span class="hljs-attr">afterRenderPage</span>: <span class="hljs-function">(<span class="hljs-params">pageData</span>) =&gt;</span> {
    <span class="hljs-comment">// 记录页面访问</span>
    <span class="hljs-title function_">trackPageView</span>(pageData.<span class="hljs-property">pagePath</span>)
  },

  <span class="hljs-attr">pageClosed</span>: <span class="hljs-function">(<span class="hljs-params">pageData</span>) =&gt;</span> {
    <span class="hljs-comment">// 清理资源</span>
    <span class="hljs-title function_">cleanupPageResources</span>(pageData.<span class="hljs-property">pagePath</span>)
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> comprehensivePlugin
</code></pre></div><div class="_content-footer_1gxcm_15"><div class="_content-footer-pre_1gxcm_31"></div><div class="_updatedTime_1gxcm_25">上次更新：<!-- -->2025-09-24</div><div class="_content-footer-next_1gxcm_32"><a href="/fispo/guide/introduction/setup"><span>下一页<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="angle-right" class="svg-inline--fa fa-angle-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg></span><span>建站</span></a></div></div><footer class="_footer_1up7z_1">Copyright © 2019-present fispo <br/>All rights reserved.</footer></div><div class="_aside_ru1ok_1"><h2>目录</h2><div class="_toc-item_ru1ok_20 _active_ru1ok_17" style="margin-left:0px"><a href="/fispo/guide/customize/plugin#插件"><span>插件</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:10px"><a href="/fispo/guide/customize/plugin#初始化项目"><span>初始化项目</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:10px"><a href="/fispo/guide/customize/plugin#文件结构"><span>文件结构</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:10px"><a href="/fispo/guide/customize/plugin#开发插件"><span>开发插件</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:10px"><a href="/fispo/guide/customize/plugin#fispoplugin-接口详解"><span>FispoPlugin 接口详解</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:20px"><a href="/fispo/guide/customize/plugin#基础配置"><span>基础配置</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:20px"><a href="/fispo/guide/customize/plugin#markdown-处理"><span>Markdown 处理</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:20px"><a href="/fispo/guide/customize/plugin#文件监听"><span>文件监听</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:20px"><a href="/fispo/guide/customize/plugin#生命周期钩子"><span>生命周期钩子</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:30px"><a href="/fispo/guide/customize/plugin#configbeforeresolved"><span>configBeforeResolved</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:30px"><a href="/fispo/guide/customize/plugin#configresolved"><span>configResolved</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:30px"><a href="/fispo/guide/customize/plugin#beforerenderpage"><span>beforeRenderpage</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:30px"><a href="/fispo/guide/customize/plugin#afterrenderpage"><span>afterRenderPage</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:30px"><a href="/fispo/guide/customize/plugin#pageclosed"><span>pageClosed</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:20px"><a href="/fispo/guide/customize/plugin#预加载动画"><span>预加载动画</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:20px"><a href="/fispo/guide/customize/plugin#全局组件"><span>全局组件</span></a></div><div class="_toc-item_ru1ok_20" style="margin-left:20px"><a href="/fispo/guide/customize/plugin#完整插件示例"><span>完整插件示例</span></a></div></div></div></div></div>
      
      
    <script type="module" src="/fispo/client-entry.js"></script>
  
  </body>
</html>